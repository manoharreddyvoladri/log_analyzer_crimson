{% load static %}
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

<aside class="h-screen w-64 fixed bg-[#1c152a] border-r border-[#3a235a] flex-col pt-5 xl:flex hidden shadow-2xl" style="font-family: 'Montserrat', sans-serif;">

    <div class="flex justify-center items-center border-b border-[#3a235a] pb-6 mb-4 px-4">
        <img src="{% static 'images/logo.png' %}" alt="Logo" class="w-40 h-auto object-contain">
    </div>

    <nav class="flex flex-col items-start mt-4 px-4 gap-3 w-full flex-grow">
        <a href="{% url 'Prediction_Task' user_name=user_name calling_request='forecast' %}" class="sidebar-link w-full {% if inPage == 'predictions' %}active{% endif %}">
            <span class="material-symbols-outlined">query_stats</span>
            <span>File Upload</span>
        </a>
        <a href="{% url 'Dashboard' user_name=user_name %}" class="sidebar-link w-full {% if inPage == 'logs' %}active{% endif %}">
            <span class="material-symbols-outlined">list_alt</span>
            <span>Logs</span>
        </a>
        <a href="{% url 'Visualization_Task' user_name=user_name calling_request='forecast' %}" class="sidebar-link w-full {% if inPage == 'visualization' %}active{% endif %}">
            <span class="material-symbols-outlined">bar_chart</span>
            <span>Visualization</span>
        </a>
        <a href="{% url 'Healthy' user_name=user_name %}" class="sidebar-link w-full {% if inPage == 'health' %}active{% endif %}">
            <span class="material-symbols-outlined">health_and_safety</span>
            <span>Health</span>
        </a>
    </nav>

    <div class="p-4 border-t border-[#3a235a]">
        <div class="flex items-center justify-center p-2 space-x-3 bg-black/30 rounded-lg mb-4">
            <span class="material-symbols-outlined text-gray-400">person</span>
            <span class="text-white font-semibold tracking-wide text-sm">{{ user_name|upper }}</span>
        </div>
        <form method="post" action="{% url 'user_logout' %}">
            {% csrf_token %}
            <button type="submit" class="w-full flex items-center justify-center gap-2 text-base font-semibold text-white bg-gradient-to-r from-pink-600 to-red-500 px-4 py-2.5 rounded-lg hover:from-pink-500 hover:to-red-400 transition-all duration-200 shadow-lg shadow-red-900/40">
                <span class="material-symbols-outlined">logout</span>
                <span>Logout</span>
            </button>
        </form>
    </div>
</aside>

<style>
    .sidebar-link {
        display: flex; align-items: center; gap: 0.75rem;
        color: #9ca3af; font-weight: 500; font-size: 1rem;
        padding: 12px 18px; border-radius: 8px;
        transition: all 0.2s ease-in-out; text-decoration: none;
        background: transparent; border-left: 3px solid transparent;
    }
    .sidebar-link:hover {
        background: rgba(49, 28, 78, 0.5); color: #ffffff;
        border-left-color: #8b5cf6; /* purple-500 */
    }
    .sidebar-link.active {
        background: rgba(99, 102, 241, 0.15); color: #ffffff;
        font-weight: 600; border-left-color: #6366f1;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
</style>