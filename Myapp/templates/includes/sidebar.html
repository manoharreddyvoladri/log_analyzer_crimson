<!-- sidebar.html -->
{% load static %}
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">

<!-- Google Material Symbols stylesheet -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />

<aside class="h-full w-56 fixed bg-[#23263a]/80 border-r-[0.1px] border-[#3E3E3E] flex-col pt-5 xl:flex hidden rounded-r-2xl asideContainer shadow-2xl backdrop-blur-lg" style="font-family: 'Montserrat', Arial, sans-serif;">

    <!-- Logo -->
    <div class="logo flex flex-col justify-center items-center border-b border-[#3E3E3E] pb-3 px-2">
        <img src="{% static 'images/logo.png' %}" alt="Logo"
            class="w-40 h-auto object-contain drop-shadow-2xl rounded-full border-4 border-blue-400 transition-all duration-300">
        
    </div>

    <!-- Navigation Links -->
    <nav class="flex flex-col items-start mt-8 ml-4 gap-3 w-full">
        <a href="{% url 'Prediction_Task' user_name 'forecast' %}" class="sidebar-link trendy-link w-[85%] text-base flex items-center gap-2 {% if request.resolver_match.url_name == 'Prediction_Task' %}active-link{% endif %}"><span class="material-icons text-blue-400 sidebar-icon">dashboard</span>Dashboard</a>
        <a href="{% url 'Dashboard' user_name %}" class="sidebar-link trendy-link w-[85%] text-base flex items-center gap-2 {% if request.resolver_match.url_name == 'Dashboard' %}active-link{% endif %}"><span class="material-icons text-green-400 sidebar-icon">list_alt</span>Logs</a>
        <a href="{% url 'Visualization_Task' user_name 'forecast' %}" class="sidebar-link trendy-link w-[85%] text-base flex items-center gap-2 {% if request.resolver_match.url_name == 'Visualization_Task' %}active-link{% endif %}"><span class="material-icons text-purple-400 sidebar-icon">bar_chart</span>Visualization</a>
        <a href="{% url 'Healthy' user_name %}" class="sidebar-link trendy-link w-[85%] text-base flex items-center gap-2 {% if request.resolver_match.url_name == 'Healthy' %}active-link{% endif %}"><span class="material-icons text-yellow-400 sidebar-icon">health_and_safety</span>Health</a>
    </nav>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Logout Button -->


    <form method="post" action="{% url 'user_logout' %}" class="mt-auto mb-6">
        {% csrf_token %}
        <div class="flex flex-col items-center gap-4">
            <!-- Username with icon, same width as logout button -->
            <div class="flex items-center justify-center text-yellow-300 px-14 py-3 space-x-2 text-base font-semibold bg-[#23263a]/70 rounded-xl shadow-lg tracking-wide w-full" style="font-family: 'Montserrat', Arial, sans-serif; letter-spacing: 1px; min-width: 180px;">
                <span class="material-symbols-outlined text-white-300 text-lg">person</span>
                <span class="text-white font-semibold tracking-wide">{{ user_name|upper }}</span>
            </div>
            <button type="submit" class="text-base font-semibold text-white bg-gradient-to-r from-blue-500 to-purple-500 px-14 py-3 rounded-xl hover:from-red-500 hover:to-pink-500 hover:text-white transition-all duration-200 shadow-lg tracking-wide w-full" style="min-width: 180px;">Logout</button>
        </div>
    </form>
    
</aside>

<style>
    .sidebar-link {
        color: #fff;
        padding: 10px 18px;
        border-radius: 10px;
        transition: background 0.2s, color 0.2s, box-shadow 0.2s, transform 0.2s;
        text-decoration: none;
        box-shadow: 0 0 0 rgba(0,0,0,0);
        font-family: 'Montserrat', Arial, sans-serif;
        letter-spacing: 0.5px;
        background: rgba(36, 39, 60, 0.7);
        backdrop-filter: blur(2px);
        border: 1.5px solid #3b82f6;
        position: relative;
    }
    .sidebar-link .sidebar-icon {
        transition: transform 0.2s, color 0.2s;
    }
    .sidebar-link:hover .sidebar-icon, .sidebar-link:focus .sidebar-icon {
        transform: scale(1.2) rotate(-8deg);
        color: #fff !important;
        filter: drop-shadow(0 0 6px #6366f1);
    }
    .sidebar-link:hover, .sidebar-link:focus {
        color: #fff;
        box-shadow: 0 4px 16px rgba(59,130,246,0.18);
        outline: none;
        text-shadow: 0 2px 8px #23263a;
        transform: scale(1.05);
        border-color: #6366f1;
        border-radius: 0px;
        background: linear-gradient(90deg, #6366f1 0%, #3b82f6 100%);
    }
    .active-link {
        background: linear-gradient(90deg, #6366f1 0%, #3b82f6 100%);
        color: #fff;
        border-color: #6366f1;
        box-shadow: 0 4px 16px rgba(59,130,246,0.28);
        border-radius: 0px;
    }
    .trendy-link {
        position: relative;
        overflow: hidden;
    }
    .trendy-link::before {
        content: '';
        position: absolute;
        left: 0; top: 0; right: 0; bottom: 0;
        background: linear-gradient(90deg, #6366f1 0%, #3b82f6 100%);
        opacity: 0;
        transition: opacity 0.4s;
        z-index: 0;
        border-radius: 10px;
    }
    .trendy-link:hover::before, .trendy-link:focus::before {
        opacity: 0.25;
        border-radius: 0px;
    }
    .trendy-link:hover, .trendy-link:focus {
        color: #fff;
        box-shadow: 0 4px 16px rgba(59,130,246,0.18);
        outline: none;
        text-shadow: 0 2px 8px #23263a;
        transform: scale(1.05);
        border-color: #6366f1;
        border-radius: 0px;
    }
</style>